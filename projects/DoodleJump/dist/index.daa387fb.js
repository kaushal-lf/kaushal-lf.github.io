!function(){function t(t,e,s,i){Object.defineProperty(t,e,{get:s,set:i,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},r=s.parcelRequire816b;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in a){var e=a[t];delete a[t];var s={id:t,exports:{}};return i[t]=s,e.call(s.exports,s,s.exports),s.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},s.parcelRequire816b=r);var h=r.register;h("iE7OH",function(e,s){t(e.exports,"register",function(){return i},function(t){return i=t});var i,a=new Map;i=function(t,e){for(var s=0;s<e.length-1;s+=2)a.set(e[s],{baseUrl:t,path:e[s+1]})}}),h("aNJCr",function(e,s){t(e.exports,"getBundleURL",function(){return i},function(t){return i=t});var i,a={};i=function(t){var e=a[t];return e||(e=function(){try{throw Error()}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return(""+t[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),a[t]=e),e}}),r("iE7OH").register(r("aNJCr").getBundleURL("9p9yL"),JSON.parse('["9p9yL","index.daa387fb.js","5w48Z","lik-left@2x.4774f8a9.png","fxVTo","lik-right@2x.4b1c211f.png","daiWz","game-tiles@2x.dcf65686.png","3VYjK","jump-arcade.821d1c37.mp3","hdu08","start.37384577.wav","iPThq","lomise.5ec4ed30.mp3","iwFJr","pada.602ffb90.mp3"]'));let o=window.innerHeight,d="green",c="broken";function n(t,e){return t.x+t.width/2<e.x+e.width&&t.x+t.width/2>e.x&&t.y<e.y&&t.y+t.height>e.y}let l={green:{active:{sx:0,sy:0,sw:124,sh:32}},broken:{active:{sx:0,sy:146,sw:123,sh:31},deactive:{sx:0,sy:299,sw:123,sh:64}}},f={A:!1,D:!1,W:!1,S:!1,P:!1,Space:!1,ArrowLeft:!1,ArrowRight:!1};window.onkeydown=t=>{switch(console.log(t.code),t.code){case"KeyA":f.A=!0;break;case"KeyD":f.D=!0;break;case"KeyS":f.S=!0;break;case"KeyW":f.W=!0;break;case"Space":f.Space=!0;break;case"KeyP":f.P=!f.P;break;case"ArrowLeft":f.ArrowLeft=!0;break;case"ArrowRight":f.ArrowRight=!0}},window.onkeyup=t=>{switch(t.code){case"KeyA":f.A=!1;break;case"KeyD":f.D=!1;break;case"KeyS":f.S=!1;break;case"KeyW":f.W=!1;break;case"Space":f.Space=!1;break;case"ArrowLeft":f.ArrowLeft=!1;break;case"ArrowRight":f.ArrowRight=!1}};var m={};m=r("aNJCr").getBundleURL("9p9yL")+"lik-left@2x.4774f8a9.png";var p={};p=r("aNJCr").getBundleURL("9p9yL")+"lik-right@2x.4b1c211f.png";var u=class{constructor(t,e,s,i,a,r,h){this.x=t,this.y=e,this.dx=s,this.dy=i,this.width=a,this.height=r,this.image=new Image,this.image.src=h,this.imageLoaded=!1,this.initialVelocity=-14,this.image.addEventListener("load",()=>{this.imageLoaded=!0})}draw=t=>{t.drawImage(this.image,this.x,this.y,this.width,this.height)};update=t=>{this.move(),this.dy+=.4,this.y+=this.dy,this.draw(t)};move=()=>{(f.A||f.ArrowLeft)&&(this.image.src=e(m),this.x-=this.dx),(f.D||f.ArrowRight)&&(this.image.src=e(p),this.x+=this.dx),this.x>600?this.x=0:this.x+this.width<0&&(this.x=600)}},g=class{constructor(t,e,s,i,a,r=d){this.x=t,this.y=e,this.width=s,this.height=i,this.image=new Image,this.image.src=a,this.imageLoaded=!1,this.type=r,this.active=!0,this.image.addEventListener("load",()=>{this.imageLoaded=!0})}draw=t=>{this.active?t.drawImage(this.image,l[this.type].active.sx,l[this.type].active.sy,l[this.type].active.sw,l[this.type].active.sh,this.x,this.y,this.width,this.height):this.active||t.drawImage(this.image,l[this.type].deactive.sx,l[this.type].deactive.sy,l[this.type].deactive.sw,l[this.type].deactive.sh,this.x,this.y,this.width,this.height)}},y={};y=r("aNJCr").getBundleURL("9p9yL")+"game-tiles@2x.dcf65686.png";var x={};x=r("aNJCr").getBundleURL("9p9yL")+"jump-arcade.821d1c37.mp3";var w={};w=r("aNJCr").getBundleURL("9p9yL")+"start.37384577.wav";var v={};v=r("aNJCr").getBundleURL("9p9yL")+"lomise.5ec4ed30.mp3";var b={};b=r("aNJCr").getBundleURL("9p9yL")+"pada.602ffb90.mp3";let S=new class{constructor(){this.setCanvas(),this.writeText()}writeText=()=>{this.ctx.font="36px sans-serif",this.ctx.fillStyle="green",this.ctx.fillText("DOODLE JUMP",600/3.5,o-600),this.ctx.font="28px sans-serif",this.ctx.fillText("Crank ya` Sound",600/3.5,o-500),this.ctx.fillText("for best experience",600/3.7,o-460),this.ctx.font="21px sans-serif",this.ctx.fillText("p - pause / resume game",600/7,o-390),this.ctx.fillText("a - move left",600/7,o-350),this.ctx.fillText("d - move right",600/7,o-310),this.ctx.fillText("Press space to start game",600/3.5,o-190)};initializeGame=()=>{this.scores={current:0,max:0},this.gameOver=!1,this.paused=!1,this.loadSounds(),this.createDoodle(),this.createPlatforms(),this.startSound.play(),this.animate()};setCanvas=()=>{this.canvas=document.getElementById("canvas"),this.canvas.width=600,this.canvas.height=o,this.ctx=this.canvas.getContext("2d")};togglePause=()=>{this.paused=!this.paused};createDoodle=()=>{this.doodler=new u(230,7*o/8-70,4,-2,70,70,e(p))};createPlatforms=()=>{this.platforms=[];let t=new Image;t.src=e(y);let s=new g(230,7*o/8-70,100,30,t.src,d);this.platforms.push(s);for(let e=0;e<8;e++){let s=Math.floor(450*Math.random()),i=o-75*e-300;this.createPlat(s,i,100,30,t.src,d)}};loadSounds=()=>{this.jumpSound=new Audio(e(x)),this.startSound=new Audio(e(w)),this.gameOverSound=new Audio(e(b)),this.crackSound=new Audio(e(v)),this.gameOverPlayed=!1};startGame=t=>{"Space"!==t.code||this.gameOver||(document.removeEventListener("keydown",this.startGame),this.initializeGame())};createPlat=(t,e,s,i,a,r)=>{let h=new g(t,e,s,i,a,r);this.platforms.push(h)};newPlatform=()=>{let t=this.platforms[this.platforms.length-1].y-70,s=new Image;s.src=e(y);let i=d;(function(t=.5){if(t<0||t>1)throw Error("Probability must be between 0 and 1.");return Math.random()<t})(.1)&&(i=c),this.createPlat(Math.floor(1800*Math.random()/4),t,100,30,s.src,i)};handleInput=()=>{f.P&&this.togglePause()};draw=()=>{};update=()=>{this.draw(),this.platforms.forEach(t=>t.draw(this.ctx)),this.platforms.forEach(t=>{for(;this.platforms.length>0&&this.platforms[0].y>=o;)this.platforms.shift();this.platforms[this.platforms.length-1].y>=0&&this.newPlatform(),this.checkCollision()}),this.doodler.dy<0&&this.doodler.y<o/2&&(this.doodler.y=o/2,this.platforms.forEach(t=>{t.y-=this.doodler.dy})),this.updateScore(),this.ctx.fillStyle="black",this.ctx.font="16px sans-serif",this.ctx.fillText(this.scores.current,5,24),this.checkGameOver(),this.doodler.update(this.ctx,this.platforms),this.handleInput()};updateScore=()=>{let t=50*Math.floor(2*Math.random());this.doodler.dy<0?(this.scores.max+=t,this.scores.current<this.scores.max&&(this.scores.current=this.scores.max)):this.doodler.dy>=0&&(this.scores.max-=t)};checkCollision=()=>{this.platforms.forEach(t=>{if(n(this.doodler,t)&&this.doodler.dy>=0&&t.type===c){t.active&&this.crackSound.play(),t.active=!1;return}n(this.doodler,t)&&this.doodler.dy>=0&&(this.jumpSound.play(),this.doodler.dy=this.doodler.initialVelocity,this.doodler.y=t.y-this.doodler.height)})};checkGameOver=()=>{!this.paused&&this.doodler.y>o&&(this.gameOver=!0,this.gameOverPlayed||(this.gameOverSound.play(),this.gameOverPlayed=!0),this.ctx.font="21px sans-serif",this.ctx.fillStyle="green",this.ctx.fillText("Game Over: Press 'Space' to Restart",150,7*o/8),f.Space&&this.resetGame())};resetGame=()=>{this.scores={current:0,max:0},this.gameOver=!1,this.gameOverPlayed=!1,this.startSound.play(),this.createDoodle(),this.createPlatforms()};animate=()=>{requestAnimationFrame(this.animate),this.checkGameOver(),f.P&&this.paused||(this.ctx.clearRect(0,0,600,o),this.update())}};document.addEventListener("keydown",S.startGame)}();
//# sourceMappingURL=index.daa387fb.js.map
