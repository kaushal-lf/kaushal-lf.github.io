function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},a=e.parcelRequire816b;null==a&&((a=function(t){if(t in s)return s[t].exports;if(t in i){var e=i[t];delete i[t];var a={id:t,exports:{}};return s[t]=a,e.call(a.exports,a,a.exports),a.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){i[t]=e},e.parcelRequire816b=a),(0,a.register)("kyEFX",function(t,e){Object.defineProperty(t.exports,"register",{get:function(){return s},set:function(t){return s=t},enumerable:!0,configurable:!0});var s,i=new Map;s=function(t,e){for(var s=0;s<e.length-1;s+=2)i.set(e[s],{baseUrl:t,path:e[s+1]})}}),a("kyEFX").register(new URL("",import.meta.url).toString(),JSON.parse('["7bk21","index.924511a7.js","kM2ME","lik-left@2x.4774f8a9.png","k9nzV","lik-right@2x.4b1c211f.png","4bNtP","game-tiles@2x.dcf65686.png","gZb5v","jump-arcade.821d1c37.mp3","84VQP","start.37384577.wav","83zRy","lomise.5ec4ed30.mp3","hjhxE","pada.602ffb90.mp3"]'));const r=window.innerHeight,h="green",o="broken";function d(t,e){return t.x+t.width/2<e.x+e.width&&t.x+t.width/2>e.x&&t.y<e.y&&t.y+t.height>e.y}const n={green:{active:{sx:0,sy:0,sw:124,sh:32}},broken:{active:{sx:0,sy:146,sw:123,sh:31},deactive:{sx:0,sy:299,sw:123,sh:64}}},c={A:!1,D:!1,W:!1,S:!1,P:!1,Space:!1,ArrowLeft:!1,ArrowRight:!1};window.onkeydown=t=>{switch(console.log(t.code),t.code){case"KeyA":c.A=!0;break;case"KeyD":c.D=!0;break;case"KeyS":c.S=!0;break;case"KeyW":c.W=!0;break;case"Space":c.Space=!0;break;case"KeyP":c.P=!c.P;break;case"ArrowLeft":c.ArrowLeft=!0;break;case"ArrowRight":c.ArrowRight=!0}},window.onkeyup=t=>{switch(t.code){case"KeyA":c.A=!1;break;case"KeyD":c.D=!1;break;case"KeyS":c.S=!1;break;case"KeyW":c.W=!1;break;case"Space":c.Space=!1;break;case"ArrowLeft":c.ArrowLeft=!1;break;case"ArrowRight":c.ArrowRight=!1}};var l={};l=new URL("lik-left@2x.4774f8a9.png",import.meta.url).toString();var m={};m=new URL("lik-right@2x.4b1c211f.png",import.meta.url).toString();var p=class{constructor(t,e,s,i,a,r,h){this.x=t,this.y=e,this.dx=s,this.dy=i,this.width=a,this.height=r,this.image=new Image,this.image.src=h,this.imageLoaded=!1,this.initialVelocity=-14,this.image.addEventListener("load",()=>{this.imageLoaded=!0})}draw=t=>{t.drawImage(this.image,this.x,this.y,this.width,this.height)};update=t=>{this.move(),this.dy+=.4,this.y+=this.dy,this.draw(t)};move=()=>{(c.A||c.ArrowLeft)&&(this.image.src=t(l),this.x-=this.dx),(c.D||c.ArrowRight)&&(this.image.src=t(m),this.x+=this.dx),this.x>600?this.x=0:this.x+this.width<0&&(this.x=600)}},f=class{constructor(t,e,s,i,a,r=h){this.x=t,this.y=e,this.width=s,this.height=i,this.image=new Image,this.image.src=a,this.imageLoaded=!1,this.type=r,this.active=!0,this.image.addEventListener("load",()=>{this.imageLoaded=!0})}draw=t=>{this.active?t.drawImage(this.image,n[this.type].active.sx,n[this.type].active.sy,n[this.type].active.sw,n[this.type].active.sh,this.x,this.y,this.width,this.height):this.active||t.drawImage(this.image,n[this.type].deactive.sx,n[this.type].deactive.sy,n[this.type].deactive.sw,n[this.type].deactive.sh,this.x,this.y,this.width,this.height)}},g={};g=new URL("game-tiles@2x.dcf65686.png",import.meta.url).toString();var u={};u=new URL("jump-arcade.821d1c37.mp3",import.meta.url).toString();var x={};x=new URL("start.37384577.wav",import.meta.url).toString();var y={};y=new URL("lomise.5ec4ed30.mp3",import.meta.url).toString();var w={};w=new URL("pada.602ffb90.mp3",import.meta.url).toString();const v=new class{constructor(){this.setCanvas(),this.writeText()}writeText=()=>{this.ctx.font="36px sans-serif",this.ctx.fillStyle="green",this.ctx.fillText("DOODLE JUMP",600/3.5,r-600),this.ctx.font="28px sans-serif",this.ctx.fillText("Crank ya` Sound",600/3.5,r-500),this.ctx.fillText("for best experience",600/3.7,r-460),this.ctx.font="21px sans-serif",this.ctx.fillText("p - pause / resume game",600/7,r-390),this.ctx.fillText("a - move left",600/7,r-350),this.ctx.fillText("d - move right",600/7,r-310),this.ctx.fillText("Press space to start game",600/3.5,r-190)};initializeGame=()=>{this.scores={current:0,max:0},this.gameOver=!1,this.paused=!1,this.loadSounds(),this.createDoodle(),this.createPlatforms(),this.startSound.play(),this.animate()};setCanvas=()=>{this.canvas=document.getElementById("canvas"),this.canvas.width=600,this.canvas.height=r,this.ctx=this.canvas.getContext("2d")};togglePause=()=>{this.paused=!this.paused};createDoodle=()=>{this.doodler=new p(230,7*r/8-70,4,-2,70,70,t(m))};createPlatforms=()=>{this.platforms=[];let e=new Image;e.src=t(g);let s=new f(230,7*r/8-70,100,30,e.src,h);this.platforms.push(s);for(let t=0;t<8;t++){let s=Math.floor(450*Math.random()),i=r-75*t-300;this.createPlat(s,i,100,30,e.src,h)}};loadSounds=()=>{this.jumpSound=new Audio(t(u)),this.startSound=new Audio(t(x)),this.gameOverSound=new Audio(t(w)),this.crackSound=new Audio(t(y)),this.gameOverPlayed=!1};startGame=t=>{"Space"!==t.code||this.gameOver||(document.removeEventListener("keydown",this.startGame),this.initializeGame())};createPlat=(t,e,s,i,a,r)=>{let h=new f(t,e,s,i,a,r);this.platforms.push(h)};newPlatform=()=>{let e=this.platforms[this.platforms.length-1].y-70,s=new Image;s.src=t(g);let i=h;(function(t=.5){if(t<0||t>1)throw Error("Probability must be between 0 and 1.");return Math.random()<t})(.1)&&(i=o),this.createPlat(Math.floor(1800*Math.random()/4),e,100,30,s.src,i)};handleInput=()=>{c.P&&this.togglePause()};draw=()=>{};update=()=>{this.draw(),this.platforms.forEach(t=>t.draw(this.ctx)),this.platforms.forEach(t=>{for(;this.platforms.length>0&&this.platforms[0].y>=r;)this.platforms.shift();this.platforms[this.platforms.length-1].y>=0&&this.newPlatform(),this.checkCollision()}),this.doodler.dy<0&&this.doodler.y<r/2&&(this.doodler.y=r/2,this.platforms.forEach(t=>{t.y-=this.doodler.dy})),this.updateScore(),this.ctx.fillStyle="black",this.ctx.font="16px sans-serif",this.ctx.fillText(this.scores.current,5,24),this.checkGameOver(),this.doodler.update(this.ctx,this.platforms),this.handleInput()};updateScore=()=>{let t=50*Math.floor(2*Math.random());this.doodler.dy<0?(this.scores.max+=t,this.scores.current<this.scores.max&&(this.scores.current=this.scores.max)):this.doodler.dy>=0&&(this.scores.max-=t)};checkCollision=()=>{this.platforms.forEach(t=>{if(d(this.doodler,t)&&this.doodler.dy>=0&&t.type===o){t.active&&this.crackSound.play(),t.active=!1;return}d(this.doodler,t)&&this.doodler.dy>=0&&(this.jumpSound.play(),this.doodler.dy=this.doodler.initialVelocity,this.doodler.y=t.y-this.doodler.height)})};checkGameOver=()=>{!this.paused&&this.doodler.y>r&&(this.gameOver=!0,this.gameOverPlayed||(this.gameOverSound.play(),this.gameOverPlayed=!0),this.ctx.font="21px sans-serif",this.ctx.fillStyle="green",this.ctx.fillText("Game Over: Press 'Space' to Restart",150,7*r/8),c.Space&&this.resetGame())};resetGame=()=>{this.scores={current:0,max:0},this.gameOver=!1,this.gameOverPlayed=!1,this.startSound.play(),this.createDoodle(),this.createPlatforms()};animate=()=>{requestAnimationFrame(this.animate),this.checkGameOver(),c.P&&this.paused||(this.ctx.clearRect(0,0,600,r),this.update())}};document.addEventListener("keydown",v.startGame);
//# sourceMappingURL=index.924511a7.js.map
